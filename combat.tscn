[gd_scene load_steps=10 format=3 uid="uid://jyt6sodbakhs"]

[ext_resource type="Script" uid="uid://cgcx6ag2hll5s" path="res://combat.gd" id="1_ga4lu"]
[ext_resource type="PackedScene" uid="uid://csiw3oa2iccme" path="res://guy.tscn" id="1_raif2"]
[ext_resource type="Script" uid="uid://c2nvnvk4ldkuw" path="res://initiative_manager.gd" id="2_s0t75"]
[ext_resource type="Shader" path="res://skew.tres" id="3_kx3u1"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_u30h6"]
sky_horizon_color = Color(0.468098, 0.485348, 0.509348, 1)
ground_bottom_color = Color(0, 0, 0, 1)
ground_horizon_color = Color(0.468098, 0.485348, 0.509348, 1)

[sub_resource type="Sky" id="Sky_fvoc2"]
sky_material = SubResource("ProceduralSkyMaterial_u30h6")

[sub_resource type="Environment" id="Environment_v7dqf"]
background_mode = 2
sky = SubResource("Sky_fvoc2")
tonemap_mode = 2

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_s0t75"]
albedo_color = Color(1, 0, 0, 1)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ga4lu"]
shader = ExtResource("3_kx3u1")
shader_parameter/strength = -0.2

[node name="Combat" type="Node3D"]
script = ExtResource("1_ga4lu")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_v7dqf")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866023, -0.433016, 0.250001, 0, 0.499998, 0.866027, -0.500003, 0.749999, -0.43301, 0, 0, 0)
shadow_enabled = true

[node name="map" type="Node3D" parent="."]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 0, -0.252306, 0)
metadata/_edit_group_ = true

[node name="ground" type="CSGBox3D" parent="map"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10.418, 0, -0.0039444)
use_collision = true
size = Vector3(56.952, 1, 36.075)

[node name="building1pt1" type="CSGBox3D" parent="map"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 11.5789, 6.92523, -13.0167)
use_collision = true
size = Vector3(13.0206, 14.8505, 10.0826)

[node name="building1pt2" type="CSGBox3D" parent="map"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10.6883, 6.92523, -13.1691)
use_collision = true
size = Vector3(6.56545, 14.8505, 10.275)

[node name="building1pt3" type="CSGBox3D" parent="map"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.885872, 6.92523, -12.1598)
use_collision = true
size = Vector3(14.0345, 14.8505, 12.2935)

[node name="building2pt1" type="CSGBox3D" parent="map"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 12.077, 6.92523, 13.0085)
use_collision = true
size = Vector3(11.9825, 14.8505, 9.99351)

[node name="building2pt2" type="CSGBox3D" parent="map"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -12.0067, 6.92523, 12.9979)
use_collision = true
size = Vector3(11.869, 14.8505, 9.94999)

[node name="building2pt3" type="CSGBox3D" parent="map"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.855225, 6.92523, 13.905)
use_collision = true
size = Vector3(14.1623, 14.8505, 7.70928)

[node name="CSGBox3D" type="CSGBox3D" parent="map"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -34.4008, 4.81869, -0.203033)
use_collision = true
size = Vector3(9.60266, 9.94348, 36.4493)

[node name="barrier1" type="CSGBox3D" parent="map"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -24.2832, -0.620912, 17.5018)
use_collision = true
size = Vector3(21.5396, 10.8223, 1)
material = SubResource("StandardMaterial3D_s0t75")

[node name="barrier2" type="CSGBox3D" parent="map"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -21.6848, 2.38985, -18.4411)
use_collision = true
size = Vector3(26.7365, 10.8223, 1)
material = SubResource("StandardMaterial3D_s0t75")

[node name="barrier3" type="CSGBox3D" parent="map"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 18.7598, 2.62174, -0.312811)
use_collision = true
size = Vector3(26.7365, 10.8223, 1)
material = SubResource("StandardMaterial3D_s0t75")

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(0.328786, 0.245574, -0.911917, 0.0839404, 0.95418, 0.287219, 0.940667, -0.17098, 0.293107, -4.20524, 2.89113, 4.34067)
fov = 58.4471

[node name="initiative manager" type="Node" parent="."]
script = ExtResource("2_s0t75")

[node name="HBoxContainer" type="HBoxContainer" parent="."]
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -414.0
offset_right = 414.0
offset_bottom = 100.0
grow_horizontal = 2

[node name="timeline panel" type="Panel" parent="HBoxContainer"]
material = SubResource("ShaderMaterial_ga4lu")
custom_minimum_size = Vector2(100, 100)
layout_mode = 2

[node name="TextureRect" type="TextureRect" parent="HBoxContainer/timeline panel"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
expand_mode = 1
stretch_mode = 4

[node name="timeline panel2" type="Panel" parent="HBoxContainer"]
material = SubResource("ShaderMaterial_ga4lu")
custom_minimum_size = Vector2(100, 100)
layout_mode = 2

[node name="TextureRect" type="TextureRect" parent="HBoxContainer/timeline panel2"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
expand_mode = 1
stretch_mode = 4

[node name="timeline panel3" type="Panel" parent="HBoxContainer"]
material = SubResource("ShaderMaterial_ga4lu")
custom_minimum_size = Vector2(100, 100)
layout_mode = 2

[node name="TextureRect" type="TextureRect" parent="HBoxContainer/timeline panel3"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
expand_mode = 1
stretch_mode = 4

[node name="timeline panel4" type="Panel" parent="HBoxContainer"]
material = SubResource("ShaderMaterial_ga4lu")
custom_minimum_size = Vector2(100, 100)
layout_mode = 2

[node name="TextureRect" type="TextureRect" parent="HBoxContainer/timeline panel4"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
expand_mode = 1
stretch_mode = 4

[node name="timeline panel5" type="Panel" parent="HBoxContainer"]
material = SubResource("ShaderMaterial_ga4lu")
custom_minimum_size = Vector2(100, 100)
layout_mode = 2

[node name="TextureRect" type="TextureRect" parent="HBoxContainer/timeline panel5"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
expand_mode = 1
stretch_mode = 4

[node name="timeline panel6" type="Panel" parent="HBoxContainer"]
material = SubResource("ShaderMaterial_ga4lu")
custom_minimum_size = Vector2(100, 100)
layout_mode = 2

[node name="TextureRect" type="TextureRect" parent="HBoxContainer/timeline panel6"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
expand_mode = 1
stretch_mode = 4

[node name="timeline panel7" type="Panel" parent="HBoxContainer"]
material = SubResource("ShaderMaterial_ga4lu")
custom_minimum_size = Vector2(100, 100)
layout_mode = 2

[node name="TextureRect" type="TextureRect" parent="HBoxContainer/timeline panel7"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
expand_mode = 1
stretch_mode = 4

[node name="timeline panel8" type="Panel" parent="HBoxContainer"]
material = SubResource("ShaderMaterial_ga4lu")
custom_minimum_size = Vector2(100, 100)
layout_mode = 2

[node name="TextureRect" type="TextureRect" parent="HBoxContainer/timeline panel8"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
expand_mode = 1
stretch_mode = 4

[node name="turnswitch" type="Button" parent="."]
offset_right = 8.0
offset_bottom = 8.0
text = "next turn"

[node name="guy" parent="." instance=ExtResource("1_raif2")]

[node name="guy2" parent="." instance=ExtResource("1_raif2")]

[node name="guy3" parent="." instance=ExtResource("1_raif2")]

[node name="guy4" parent="." instance=ExtResource("1_raif2")]

[node name="guy5" parent="." instance=ExtResource("1_raif2")]

[node name="guy6" parent="." instance=ExtResource("1_raif2")]

[connection signal="pressed" from="turnswitch" to="." method="_on_turnswitch_pressed"]
